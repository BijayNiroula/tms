public function select($table, $conditions = [], $fields = '*', $limit = null, $orderby = null)
    {
        $sql = "SELECT $fields FROM $table";
        if (!empty($conditions)) {
            $whereClauses = [];
            $params = [];
            foreach ($conditions as $key => $value) {
                $whereClauses[] = "$key = :$key";
                $params[":$key"] = $value;
            }
            if (!empty($whereClauses)) {
                $sql .= " WHERE " . implode(" AND ", $whereClauses);
            }
        }
        if ($orderby) {
            $sql .= " ORDER BY $orderby";
        }
        if ($limit) {
            $sql .= " LIMIT $limit";
        }
        $stmt = $this->dog_conn->prepare($sql);
        if (!empty($params)) {
            foreach ($params as $param => $value) {
                $stmt->bindParam($param, $value);
            }
        }
        $stmt->execute();
        $results = $stmt->fetchAll(PDO::FETCH_ASSOC);
        return $results;
        // echo $sql;
    }


    public function getCount($table, $conditions = [])
    {
        $sql = "SELECT COUNT(*) as total FROM $table";
        if (!empty($conditions)) {
            $whereClauses = [];
            $params = [];
            foreach ($conditions as $column => $value) {
                $whereClauses[] = "$column = :$column";
                $params[":$column"] = $value;
            }
            if (!empty($whereClauses)) {
                $sql .= " WHERE " . implode(" AND ", $whereClauses);
            }
        }
        $stmt = $this->dog_conn->prepare($sql);
        if (!empty($params)) {
            foreach ($params as $param => $value) {
                $stmt->bindParam($param, $value);
            }
        }
        $stmt->execute();
        $result = $stmt->fetch(PDO::FETCH_ASSOC);
        $test_count = $result['total'];
        return $test_count;
        // echo $sql;
    }

    public function get_count_filter($table, $conditions1 = [])
    {
        $sql = "SELECT COUNT(*) as total FROM $table";
        if (!empty($conditions)) {
            $whereClauses = [];
            $params = [];

            foreach ($conditions as $column => $value) {
                if (is_array($value)) {
                    // Handle the IN clause for an array of values
                    $placeholders = implode(",", array_fill(0, count($value), "?"));
                    $whereClauses[] = "$column IN ($placeholders)";
                    $params = array_merge($params, $value);
                } else {
                    // For non-array values, use = 
                    $whereClauses[] = "$column = :$column";
                    $params[":$column"] = $value;
                }
            }

            if (!empty($whereClauses)) {
                $sql .= " WHERE " . implode(" AND ", $whereClauses);
            }
        }

        // Prepare the query
        $stmt = $this->dog_conn->prepare($sql);
        if (!empty($params)) {
            foreach ($params as $index => $value) {
                $stmt->bindValue($index + 1, $value);  // Bind indexed parameters (start from 1)
            }
        }
        // Execute the query and fetch the result
        $stmt->execute();
        $result = $stmt->fetch(PDO::FETCH_ASSOC);
        // echo $sql;  
        return $result['total'];
    }
